<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üßπ ‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô - ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡∏î‡∏µ‡∏ß‡∏≠‡∏ä</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Sarabun', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 0;
        }
        
        .header {
            background: linear-gradient(135deg, #e67e22, #f39c12);
            padding: 16px 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header-title {
            font-size: 18px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .header-subtitle {
            font-size: 12px;
            opacity: 0.9;
            margin-top: 4px;
        }
        
        .container {
            padding: 16px;
            max-width: 500px;
            margin: 0 auto;
        }
        
        /* Order Card */
        .order-card {
            background: linear-gradient(135deg, #2d3436, #636e72);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 2px solid #f39c12;
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px dashed rgba(255,255,255,0.2);
        }
        .order-id {
            font-size: 20px;
            font-weight: 700;
            color: #f39c12;
        }
        .order-time {
            font-size: 12px;
            opacity: 0.7;
        }
        
        .payment-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }
        .payment-badge.paid {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }
        .payment-badge.pending {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }
        
        /* Photo Section */
        .photo-section {
            margin: 12px 0;
        }
        .photo-label {
            font-size: 12px;
            color: #f39c12;
            margin-bottom: 8px;
        }
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }
        .photo-item {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: rgba(255,255,255,0.7);
        }
        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }
        .photo-item .icon {
            font-size: 32px;
            margin-bottom: 4px;
        }
        
        /* Info Sections */
        .info-section {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 12px;
            margin: 12px 0;
        }
        .info-title {
            font-size: 13px;
            font-weight: 600;
            color: #f39c12;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
            font-size: 13px;
            border-bottom: 1px dashed rgba(255,255,255,0.1);
        }
        .info-row:last-child {
            border-bottom: none;
        }
        .info-label {
            opacity: 0.7;
        }
        .info-value {
            font-weight: 600;
        }
        
        /* Bilingual Section */
        .bilingual-section {
            margin: 16px 0;
        }
        .lang-tab {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }
        .lang-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        .lang-btn.active {
            background: #f39c12;
            color: #1a1a2e;
        }
        .lang-btn:not(.active) {
            background: rgba(255,255,255,0.1);
            color: white;
        }
        .lang-content {
            display: none;
        }
        .lang-content.active {
            display: block;
        }
        
        /* Myanmar Text */
        .myanmar-text {
            font-family: 'Padauk', 'Myanmar Text', sans-serif;
            line-height: 1.8;
        }
        
        /* Action Buttons */
        .action-section {
            margin-top: 20px;
            padding-top: 16px;
            border-top: 2px dashed rgba(255,255,255,0.2);
        }
        .action-title {
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 12px;
            color: #f39c12;
        }
        
        .action-btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
            font-family: inherit;
            transition: all 0.2s;
        }
        .action-btn:active {
            transform: scale(0.98);
        }
        
        .btn-complete-paid {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            box-shadow: 0 4px 15px rgba(39,174,96,0.4);
        }
        
        .btn-complete-cash {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            box-shadow: 0 4px 15px rgba(231,76,60,0.4);
        }
        
        .btn-customer-paid {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }
        
        .btn-customer-unpaid {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }
        
        .cash-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        /* Confirmation Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .modal-overlay.show {
            display: flex;
        }
        .modal-content {
            background: linear-gradient(135deg, #2d3436, #636e72);
            border-radius: 16px;
            padding: 24px;
            max-width: 350px;
            width: 100%;
            text-align: center;
        }
        .modal-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
        .modal-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .modal-message {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .modal-buttons {
            display: flex;
            gap: 10px;
        }
        .modal-btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
        }
        .modal-btn-cancel {
            background: rgba(255,255,255,0.2);
            color: white;
        }
        .modal-btn-confirm {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }
        .modal-btn-confirm.red {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }
        
        /* Success State */
        .success-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.85);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 20px;
        }
        .success-overlay.show {
            display: flex;
        }
        .success-icon {
            font-size: 60px;
            margin-bottom: 16px;
            animation: bounceIn 0.5s ease;
        }
        .success-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #2ecc71;
        }
        .success-message {
            font-size: 13px;
            opacity: 0.9;
            text-align: center;
            line-height: 1.6;
        }
        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        /* Total Section */
        .total-section {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .total-label {
            font-size: 14px;
        }
        .total-value {
            font-size: 28px;
            font-weight: 700;
        }
        
        /* Service Details */
        .service-item {
            background: rgba(255,255,255,0.08);
            border-radius: 8px;
            padding: 10px;
            margin: 6px 0;
        }
        .service-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
        }
        .service-item-title {
            font-weight: 600;
            font-size: 13px;
        }
        .service-item-price {
            color: #2ecc71;
            font-weight: 600;
        }
        .service-item-details {
            font-size: 11px;
            opacity: 0.7;
        }
        
        /* Demo Controls */
        .demo-controls {
            background: rgba(155,89,182,0.2);
            border: 1px dashed #9b59b6;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }
        .demo-title {
            font-size: 12px;
            color: #9b59b6;
            font-weight: 600;
            margin-bottom: 10px;
            text-align: center;
        }
        .demo-buttons {
            display: flex;
            gap: 8px;
        }
        .demo-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
        }
        .demo-btn.paid {
            background: #27ae60;
            color: white;
        }
        .demo-btn.cash {
            background: #e74c3c;
            color: white;
        }
        
        .hidden { display: none !important; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Padauk:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header">
        <div class="header-title">üßπ ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô - ‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡∏î‡∏µ‡∏ß‡∏≠‡∏ä</div>
        <div class="header-subtitle">Staff Maid Interface</div>
    </div>
    
    <div class="container">
        <!-- Demo Controls -->
        <div class="demo-controls">
            <div class="demo-title">üéÆ Demo: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</div>
            <div class="demo-buttons">
                <button class="demo-btn paid" onclick="setPaymentStatus('paid')">‚úÖ ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß</button>
                <button class="demo-btn cash" onclick="setPaymentStatus('cash')">üíµ ‡∏£‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</button>
            </div>
        </div>
        
        <!-- Order Card -->
        <div class="order-card">
            <div class="order-header">
                <div>
                    <div class="order-id" id="orderId">KO-251222-161880</div>
                    <div class="order-time">22/12/2567 ‡πÄ‡∏ß‡∏•‡∏≤ 16:18 ‡∏ô.</div>
                </div>
                <div class="payment-badge paid" id="paymentBadge">
                    <span>‚úÖ</span> ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß
                </div>
            </div>
            
            <!-- Photo Section -->
            <div class="photo-section">
                <div class="photo-label">üì∑ ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div>
                <div class="photo-grid">
                    <div class="photo-item">
                        <div class="icon">üé´</div>
                        <span>‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß #25</span>
                    </div>
                    <div class="photo-item" id="slipPhotoBox">
                        <div class="icon">üßæ</div>
                        <span>‡∏™‡∏•‡∏¥‡∏õ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</span>
                    </div>
                </div>
            </div>
            
            <!-- Customer Info -->
            <div class="info-section">
                <div class="info-title">üë§ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div>
                <div class="info-row">
                    <span class="info-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</span>
                    <span class="info-value" id="customerPhone">089-460-3746</span>
                </div>
                <div class="info-row">
                    <span class="info-label">LINE ID</span>
                    <span class="info-value" id="customerLine">sakpol_dev</span>
                </div>
                <div class="info-row">
                    <span class="info-label">‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà</span>
                    <span class="info-value" id="queueNumber">#25</span>
                </div>
            </div>
            
            <!-- Service Details -->
            <div class="info-section">
                <div class="info-title">üß∫ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</div>
                <div class="info-row">
                    <span class="info-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</span>
                    <span class="info-value">‡∏ã‡∏±‡∏Å + ‡∏≠‡∏ö</span>
                </div>
                <div class="info-row">
                    <span class="info-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</span>
                    <span class="info-value">1 ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</span>
                </div>
                
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">üß∫ ‡∏ã‡∏±‡∏Å 10kg</span>
                        <span class="service-item-price">50 ‡∏ø</span>
                    </div>
                    <div class="service-item-details">‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏£‡πâ‡∏≤‡∏ô | ‡∏ô‡πâ‡∏≥‡πÄ‡∏¢‡πá‡∏ô</div>
                </div>
                
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">üåÄ ‡∏≠‡∏ö 16kg</span>
                        <span class="service-item-price">60 ‡∏ø</span>
                    </div>
                    <div class="service-item-details">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á | 36 ‡∏ô‡∏≤‡∏ó‡∏µ</div>
                </div>
            </div>
            
            <!-- Total -->
            <div class="total-section">
                <span class="total-label">üí∞ ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</span>
                <span class="total-value" id="totalAmount">110 ‡∏ø</span>
            </div>
            
            <!-- Bilingual Info for Maid -->
            <div class="bilingual-section">
                <div class="lang-tab">
                    <button class="lang-btn active" onclick="switchLang('th')">üáπüá≠ ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</button>
                    <button class="lang-btn" onclick="switchLang('mm')">üá≤üá≤ ·Äô·Äº·Äî·Ä∫·Äô·Ä¨</button>
                </div>
                
                <div class="lang-content active" id="langTh">
                    <div class="info-section">
                        <div class="info-title">üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏á‡∏≤‡∏ô</div>
                        <div style="font-size: 13px; line-height: 1.8;">
                            ‚Ä¢ <strong>‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß:</strong> #25<br>
                            ‚Ä¢ <strong>‡∏ã‡∏±‡∏Å:</strong> 10kg ‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏£‡πâ‡∏≤‡∏ô ‡∏ô‡πâ‡∏≥‡πÄ‡∏¢‡πá‡∏ô<br>
                            ‚Ä¢ <strong>‡∏≠‡∏ö:</strong> 16kg ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á 36 ‡∏ô‡∏≤‡∏ó‡∏µ<br>
                            ‚Ä¢ <strong>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:</strong> 110 ‡∏ö‡∏≤‡∏ó<br>
                            ‚Ä¢ <strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> <span id="statusTh">‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚úÖ</span>
                        </div>
                    </div>
                </div>
                
                <div class="lang-content" id="langMm">
                    <div class="info-section">
                        <div class="info-title">üìã ·Ä°·Äú·ÄØ·Äï·Ä∫·Ä°·ÄÄ·Äª·Äâ·Ä∫·Ä∏·ÄÅ·Äª·ÄØ·Äï·Ä∫</div>
                        <div class="myanmar-text" style="font-size: 14px; line-height: 2;">
                            ‚Ä¢ <strong>·Äú·ÄÄ·Ä∫·Äô·Äæ·Äê·Ä∫·Äî·Ä∂·Äï·Ä´·Äê·Ä∫:</strong> #25<br>
                            ‚Ä¢ <strong>·Ä°·Äù·Äê·Ä∫·Äú·Äª·Äæ·Ä±·Ä¨·Ä∫:</strong> 10kg ·ÄÜ·Ä≠·ÄØ·ÄÑ·Ä∫·ÄÜ·Äï·Ä∫·Äï·Äº·Ä¨ ·Äõ·Ä±·Ä°·Ä±·Ä∏<br>
                            ‚Ä¢ <strong>·Ä°·ÄÅ·Äº·Ä±·Ä¨·ÄÄ·Ä∫·ÄÅ·Ä∂:</strong> 16kg ·Ä°·Äï·Ä∞·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äô·Äº·ÄÑ·Ä∑·Ä∫ 36 ·Äô·Ä≠·Äî·ÄÖ·Ä∫<br>
                            ‚Ä¢ <strong>·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏:</strong> 110 ·Äò·Äê·Ä∫<br>
                            ‚Ä¢ <strong>·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±:</strong> <span id="statusMm">·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Äº·ÄÆ·Ä∏ ‚úÖ</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="action-section">
                <div class="action-title">‚úÖ ‡∏ã‡∏±‡∏Å-‡∏≠‡∏ö-‡∏û‡∏±‡∏ö ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</div>
                
                <!-- For Paid Orders (Green) -->
                <div id="actionPaid">
                    <button class="action-btn btn-complete-paid" onclick="showConfirmation('paid')">
                        <span>‚úÖ</span> ‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß)
                    </button>
                </div>
                
                <!-- For Cash Orders (Red) -->
                <div id="actionCash" class="hidden">
                    <button class="action-btn btn-complete-cash" onclick="showConfirmation('cash-notify')" style="margin-bottom: 16px;">
                        <span>üì¢</span> ‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (‡∏£‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î)
                    </button>
                    
                    <div style="font-size: 12px; text-align: center; margin-bottom: 10px; opacity: 0.7;">
                        ‡∏´‡∏•‡∏±‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏°‡∏≤‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
                    </div>
                    <div class="cash-buttons">
                        <button class="action-btn btn-customer-paid" onclick="showConfirmation('cash-paid')">
                            <span>‚úÖ</span> ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß
                        </button>
                        <button class="action-btn btn-customer-unpaid" onclick="showConfirmation('cash-unpaid')">
                            <span>‚ùå</span> ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡πà‡∏≤‡∏¢
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Confirmation Modal (Step 1) -->
    <div class="modal-overlay" id="modalStep1">
        <div class="modal-content">
            <div class="modal-icon" id="modalIcon1">‚ö†Ô∏è</div>
            <div class="modal-title" id="modalTitle1">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£?</div>
            <div class="modal-message" id="modalMsg1">
                ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="modal-btn modal-btn-confirm" id="modalConfirm1" onclick="showConfirmationStep2()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
            </div>
        </div>
    </div>
    
    <!-- Confirmation Modal (Step 2 - Double Confirm) -->
    <div class="modal-overlay" id="modalStep2">
        <div class="modal-content">
            <div class="modal-icon">üîî</div>
            <div class="modal-title">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!</div>
            <div class="modal-message" id="modalMsg2">
                <strong style="color: #e74c3c;">‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à</strong><br><br>
                ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á:<br>
                ‚Ä¢ üì± ‡πÑ‡∏•‡∏ô‡πå‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤<br>
                ‚Ä¢ üë®‚Äçüíº ‡πÑ‡∏•‡∏ô‡πå‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="modal-btn modal-btn-confirm" id="modalConfirm2" onclick="executeAction()">‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
            </div>
        </div>
    </div>
    
    <!-- Success Overlay with Message Preview -->
    <div class="success-overlay" id="successOverlay">
        <div style="background: linear-gradient(135deg, #2d3436, #636e72); border-radius: 16px; padding: 24px; max-width: 380px; width: 90%; max-height: 90vh; overflow-y: auto;">
            <div class="success-icon">‚úÖ</div>
            <div class="success-title">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</div>
            <div class="success-message" id="successMsg">
                ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
            </div>
            
            <!-- Message Preview After Success -->
            <div id="successPreviewSection" style="margin-top: 20px; text-align: left;">
                <div style="font-size: 12px; color: #f39c12; margin-bottom: 8px;">üì± ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div>
                <div id="successCustomerPreview" style="font-size: 11px; line-height: 1.6; background: rgba(39,174,96,0.2); padding: 10px; border-radius: 8px; border-left: 3px solid #27ae60; max-height: 150px; overflow-y: auto;">
                </div>
                
                <div style="font-size: 12px; color: #3498db; margin: 12px 0 8px 0;">üë®‚Äçüíº ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</div>
                <div id="successAdminPreview" style="font-size: 11px; line-height: 1.6; background: rgba(52,152,219,0.2); padding: 10px; border-radius: 8px; border-left: 3px solid #3498db; max-height: 150px; overflow-y: auto;">
                </div>
            </div>
            
            <button onclick="closeSuccessOverlay()" style="margin-top: 20px; width: 100%; padding: 12px; background: linear-gradient(135deg, #27ae60, #2ecc71); border: none; border-radius: 10px; color: white; font-size: 14px; font-weight: 600; cursor: pointer;">
                ‚úì ‡∏õ‡∏¥‡∏î
            </button>
        </div>
    </div>
    
    <script>
        let currentPaymentStatus = 'paid';
        let currentAction = null;
        
        // Function to get current date and time in Thai format
        function getCurrentDateTime() {
            const now = new Date();
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const year = (now.getFullYear() + 543).toString().slice(-2); // ‡∏û.‡∏®. 2 ‡∏´‡∏•‡∏±‡∏Å
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            return `${day}/${month}/${year} ‡πÄ‡∏ß‡∏•‡∏≤ ${hours}:${minutes} ‡∏ô.`;
        }
        
        const orderData = {
            orderId: 'KO-251222-161880',
            queueNumber: '25',
            phone: '089-460-3746',
            lineId: 'sakpol_dev',
            total: 110,
            paymentStatus: 'paid', // 'paid' or 'cash'
            service: '‡∏ã‡∏±‡∏Å + ‡∏≠‡∏ö',
            basketCount: 1
        };
        
        // Messages Templates
        const messages = {
            // For PAID customers (already transferred)
            paid: {
                customer: `üß∫ <strong>‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡∏î‡∏µ‡∏ß‡∏≠‡∏ä</strong><br><br>
‡∏ú‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞ ‚ú®<br><br>
üìç ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏≤‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ<br><br>
üìû ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:<br>
‚Ä¢ ‡πÇ‡∏ó‡∏£: <strong>094-325-9578</strong><br>
‚Ä¢ LINE: <strong>@kanhan2024</strong><br><br>
‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏∞ üôè`,
                admin: `‚úÖ <strong>‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</strong> (‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß)<br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üé´ ‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß: #${orderData.queueNumber}<br>
üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${orderData.phone}<br>
üí¨ LINE: ${orderData.lineId}<br>
üí∞ ‡∏¢‡∏≠‡∏î: ${orderData.total} ‡∏ö‡∏≤‡∏ó<br>
üí≥ <span style="color:#27ae60;font-weight:bold;">‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚úÖ</span><br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üïê ${getCurrentDateTime()}`
            },
            
            // For CASH customers - Initial notify
            'cash-notify': {
                customer: `üß∫ <strong>‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡∏î‡∏µ‡∏ß‡∏≠‡∏ä</strong><br><br>
‡∏ú‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞ ‚ú®<br><br>
üìç ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏≤‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ<br>
‚è∞ <strong>‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 17:00 ‡∏ô.</strong> (‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô)<br><br>
üí° ‡∏´‡∏•‡∏±‡∏á 17:00 ‡∏ô. ‚Üí ‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏Ñ‡πà‡∏∞<br><br>
üí∞ ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞: <strong>${orderData.total} ‡∏ö‡∏≤‡∏ó</strong><br><br>
üìû ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:<br>
‚Ä¢ ‡πÇ‡∏ó‡∏£: <strong>094-325-9578</strong><br>
‚Ä¢ LINE: <strong>@kanhan2024</strong><br><br>
‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏∞ üôè`,
                admin: `üì¢ <strong>‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</strong> (‡∏£‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î)<br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üé´ ‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß: #${orderData.queueNumber}<br>
üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${orderData.phone}<br>
üí¨ LINE: ${orderData.lineId}<br>
üí∞ ‡∏¢‡∏≠‡∏î: ${orderData.total} ‡∏ö‡∏≤‡∏ó<br>
üíµ <span style="color:#e74c3c;font-weight:bold;">‡∏£‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î üî¥</span><br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üïê ${getCurrentDateTime()}`
            },
            
            // For CASH customers - Customer paid
            'cash-paid': {
                customer: null, // No message to customer
                admin: `‚úÖ <strong>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÅ‡∏•‡πâ‡∏ß</strong><br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üé´ ‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß: #${orderData.queueNumber}<br>
üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${orderData.phone}<br>
üí¨ LINE: ${orderData.lineId}<br>
üí∞ ‡∏¢‡∏≠‡∏î: ${orderData.total} ‡∏ö‡∏≤‡∏ó<br>
üíµ <span style="color:#27ae60;font-weight:bold;">‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÅ‡∏•‡πâ‡∏ß ‚úÖ</span><br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üïê ${getCurrentDateTime()}`
            },
            
            // For CASH customers - Customer NOT paid
            'cash-unpaid': {
                customer: `üß∫ <strong>‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡∏î‡∏µ‡∏ß‡∏≠‡∏ä</strong><br><br>
‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏ú‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡πà‡∏∞ üí∞<br><br>
‚è∞ ‡∏´‡∏•‡∏±‡∏á 17:00 ‡∏ô. ‚Üí ‡∏£‡∏±‡∏ö‡∏ú‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ô‡∏∞‡∏Ñ‡πà‡∏∞<br><br>
üìû ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:<br>
‚Ä¢ ‡πÇ‡∏ó‡∏£: <strong>094-325-9578</strong><br>
‚Ä¢ LINE: <strong>@kanhan2024</strong><br><br>
‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏∞ üôè`,
                admin: `‚ùå <strong>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô</strong><br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üé´ ‡∏ö‡∏±‡∏ï‡∏£‡∏Ñ‡∏¥‡∏ß: #${orderData.queueNumber}<br>
üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${orderData.phone}<br>
üí¨ LINE: ${orderData.lineId}<br>
üí∞ ‡∏¢‡∏≠‡∏î: ${orderData.total} ‡∏ö‡∏≤‡∏ó<br>
üíµ <span style="color:#e74c3c;font-weight:bold;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô ‚ùå</span><br>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ<br>
üïê ${getCurrentDateTime()}<br>
‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤`
            }
        };
        
        // Demo: Switch payment status
        function setPaymentStatus(status) {
            currentPaymentStatus = status;
            const badge = document.getElementById('paymentBadge');
            const actionPaid = document.getElementById('actionPaid');
            const actionCash = document.getElementById('actionCash');
            const slipBox = document.getElementById('slipPhotoBox');
            const statusTh = document.getElementById('statusTh');
            const statusMm = document.getElementById('statusMm');
            
            if (status === 'paid') {
                badge.className = 'payment-badge paid';
                badge.innerHTML = '<span>‚úÖ</span> ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß';
                actionPaid.classList.remove('hidden');
                actionCash.classList.add('hidden');
                slipBox.classList.remove('hidden');
                statusTh.textContent = '‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚úÖ';
                statusMm.textContent = '·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Äº·ÄÆ·Ä∏ ‚úÖ';
            } else {
                badge.className = 'payment-badge pending';
                badge.innerHTML = '<span>üíµ</span> ‡∏£‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î';
                actionPaid.classList.add('hidden');
                actionCash.classList.remove('hidden');
                slipBox.classList.add('hidden');
                statusTh.textContent = '‡∏£‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î üíµ';
                statusMm.textContent = '·ÄÑ·ÄΩ·Ä±·Äû·Ä¨·Ä∏·Äï·Ä±·Ä∏·Äõ·Äî·Ä∫·ÄÖ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äî·Ä±·Äû·Ää·Ä∫ üíµ';
            }
        }
        
        // Switch language
        function switchLang(lang) {
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.lang-content').forEach(content => content.classList.remove('active'));
            
            event.currentTarget.classList.add('active');
            document.getElementById('lang' + (lang === 'th' ? 'Th' : 'Mm')).classList.add('active');
        }
        
        // Show confirmation modal (Step 1)
        function showConfirmation(action) {
            currentAction = action;
            const modal = document.getElementById('modalStep1');
            const icon = document.getElementById('modalIcon1');
            const title = document.getElementById('modalTitle1');
            const msg = document.getElementById('modalMsg1');
            const confirmBtn = document.getElementById('modalConfirm1');
            
            if (action === 'paid') {
                icon.textContent = '‚úÖ';
                title.textContent = '‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß';
                msg.innerHTML = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß?<br><small style="opacity:0.7;">(‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß)</small>';
                confirmBtn.className = 'modal-btn modal-btn-confirm';
            } else if (action === 'cash-notify') {
                icon.textContent = 'üì¢';
                title.textContent = '‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß';
                msg.innerHTML = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏ú‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß?<br><small style="opacity:0.7;">(‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î)</small>';
                confirmBtn.className = 'modal-btn modal-btn-confirm red';
            } else if (action === 'cash-paid') {
                icon.textContent = 'üíµ';
                title.textContent = '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß?';
                msg.innerHTML = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÅ‡∏•‡πâ‡∏ß?';
                confirmBtn.className = 'modal-btn modal-btn-confirm';
            } else if (action === 'cash-unpaid') {
                icon.textContent = '‚ùå';
                title.textContent = '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô?';
                msg.innerHTML = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô?<br><small style="color:#e74c3c;">‡∏à‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°</small>';
                confirmBtn.className = 'modal-btn modal-btn-confirm red';
            }
            
            modal.classList.add('show');
        }
        
        // Show step 2 confirmation
        function showConfirmationStep2() {
            document.getElementById('modalStep1').classList.remove('show');
            document.getElementById('modalStep2').classList.add('show');
            
            const confirmBtn = document.getElementById('modalConfirm2');
            if (currentAction === 'cash-unpaid') {
                confirmBtn.className = 'modal-btn modal-btn-confirm red';
            } else {
                confirmBtn.className = 'modal-btn modal-btn-confirm';
            }
        }
        
        // Execute action
        function executeAction() {
            document.getElementById('modalStep2').classList.remove('show');
            
            // Show success message
            const successMsg = document.getElementById('successMsg');
            if (currentAction === 'cash-paid') {
                successMsg.innerHTML = '‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß';
            } else {
                successMsg.innerHTML = '‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß';
            }
            
            // Update preview in success overlay
            const msg = messages[currentAction];
            document.getElementById('successCustomerPreview').innerHTML = msg.customer || '<em style="opacity:0.5;">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</em>';
            document.getElementById('successAdminPreview').innerHTML = msg.admin;
            
            document.getElementById('successOverlay').classList.add('show');
            
            // Log action (for n8n integration)
            console.log('Action executed:', currentAction);
            console.log('Message to customer:', messages[currentAction].customer);
            console.log('Message to admin:', messages[currentAction].admin);
        }
        
        // Close success overlay
        function closeSuccessOverlay() {
            document.getElementById('successOverlay').classList.remove('show');
        }
        
        // Close modal
        function closeModal() {
            document.getElementById('modalStep1').classList.remove('show');
            document.getElementById('modalStep2').classList.remove('show');
        }
    </script>
</body>
</html>
